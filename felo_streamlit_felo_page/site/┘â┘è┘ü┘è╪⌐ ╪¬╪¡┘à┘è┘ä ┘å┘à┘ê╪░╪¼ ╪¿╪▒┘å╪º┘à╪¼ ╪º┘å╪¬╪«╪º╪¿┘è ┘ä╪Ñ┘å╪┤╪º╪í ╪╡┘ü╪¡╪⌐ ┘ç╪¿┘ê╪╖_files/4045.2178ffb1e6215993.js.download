"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4045],{34045:function(e,t,s){s.r(t),s.d(t,{default:function(){return eH}});var r=s(52676),a=s(75271),l=s(43378),n=s(54857),i=s(77249),o=s(57546),d=s(65819),c=s(46571),x=s(7717),m=s(20732),u=s(44342),p=s(96662),h=s(92909),f=s(88592),g=()=>{let e=(0,x.useTranslations)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{className:"mb-4"}),(0,r.jsx)("hr",{className:"border-t border-felo-border-3-modal dark:border-felo-border-3-modal-dark mb-8"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-felo-text-3 dark:text-felo-text-3-dark text-lg font-medium mb-5",children:e("settings.subscription")}),(0,r.jsx)(f.Z,{})]})]})},b=s(37481),_=s(83283),v=s(25010),j=s(65105),k=s(98795);let N=()=>{let e=(0,j.ZP)(e=>e.subscriptionInfo),t=(0,d.gQ)();return{pointsCount:(0,a.useMemo)(()=>{var s,r;if(!(null==e?void 0:e.pointsUsage))return 0;let{balance:a,total_limit:l}=e.pointsUsage;return l===k.a.UNLIMITED?1/0:t&&(null==e?void 0:null===(s=e.pointsEnterpriseUsage)||void 0===s?void 0:s.balance)?(null==e?void 0:null===(r=e.pointsEnterpriseUsage)||void 0===r?void 0:r.balance)+a:a},[e])}};var y=s(25773),w=s(62421),E=s(16054),D=s(72070),F=s.n(D);let C={dailyGift:["pr_points_bs","prm_points_bs","pra_points_bs","prp_points_bs","prup_points_bs","bs_points","premium_bs_points","ultimate_bs_points"],personalSubscription:["only_points","pr_points","prm_points","pra_points","prp_points","prup_points"],enterpriseSubscription:["premium_points","ultimate_points"],purchasePack:["add_on_pack_mini_points","add_on_pack_large_points"],invitationReward:["fs_invitation_activity"],giftPoints:["fs_gift_5000","fs_gift_1000","fs_activity_20250809"],feedbackReward:["fs_ppt_feedback_activity"]};var A=e=>{var t;let{pageSize:s=8}=e,l=(0,x.useTranslations)(),[n,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(1),u=async e=>{d(!0);try{let t=await (0,E.Di)({size:s,current:e});(null==t?void 0:t.data)&&i(t.data)}catch(e){console.error("获取积分详情失败:",e)}finally{d(!1)}};(0,a.useEffect)(()=>{u(1)},[]);let p=e=>{m(e),u(e)},h=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),f={dailyGift:l("settings_modal.credits_status_type.daily_gift"),personalSubscription:l("settings_modal.credits_status_type.subscription"),enterpriseSubscription:l("settings_modal.credits_status_type.subscription"),purchasePack:l("settings_modal.credits_status_type.purchase_pack"),invitationReward:l("settings_modal.credits_status_type.invitation_reward"),giftPoints:l("settings_modal.credits_status_type.gift"),feedbackReward:l("points.fs_ppt_feedback_activity")},g=e=>{for(let[t,s]of Object.entries(C))if(s.includes(e))return f[t];return e};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,b.cn)("min-h-[100px]","overflow-x-auto","border border-felo-border-3-modal dark:border-felo-border-3-modal-dark rounded-lg"),children:[(0,r.jsxs)("table",{className:(0,b.cn)("text-theme-font-800 dark:text-theme-font-dark-800 w-full"),style:{minWidth:"600px"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:(0,b.cn)("text-sm","bg-felo-bg-1-modal-second dark:bg-felo-bg-1-modal-second-dark","text-felo-text-4 dark:text-felo-text-4-dark","border-b border-felo-border-3-modal dark:border-felo-border-3-modal-dark min-h-9"),children:[(0,r.jsx)("th",{className:"py-2 px-4 text-left font-normal",children:l("settings_modal.credits_table.type")}),(0,r.jsx)("th",{className:"py-2 px-4 text-left font-normal",children:l("settings_modal.credits_table.effective_date")}),(0,r.jsx)("th",{className:"py-2 px-4 text-left font-normal",children:l("settings_modal.credits_table.expire_date")}),(0,r.jsx)("th",{className:"py-2 px-4 text-right font-normal",children:l("settings_modal.credits_table.balance")}),(0,r.jsx)("th",{className:"py-2 px-4 text-right font-normal",style:{width:"150px"},children:l("settings_modal.credits_table.total")})]})}),(0,r.jsx)("tbody",{children:null==n?void 0:null===(t=n.records)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)("tr",{className:(0,b.cn)("text-base text-[#30394A] dark:text-white","border-b last:border-b-0 border-felo-border-3-modal dark:border-felo-border-3-modal-dark",e.deleted&&"text-felo-text-disabled dark:text-felo-text-disabled-dark"),children:[(0,r.jsx)("td",{className:"px-4 py-3",children:g(e.item_id)}),(0,r.jsx)("td",{className:"px-4 py-3",children:h(e.gmt_create)}),(0,r.jsx)("td",{className:"px-4 py-3",children:e.expire_time?h(e.expire_time):"-"}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:e.total_limit===k.a.UNLIMITED?l("unlimited"):e.balance}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:e.total_limit===k.a.UNLIMITED?l("unlimited"):"+".concat(e.total)})]},t))})]}),!n&&o?(0,r.jsx)("div",{className:"flex justify-center min-h-96",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{children:l("topic.loading")})]})}):n&&0!==n.records.length?null:(0,r.jsxs)("div",{className:"flex flex-col justify-center text-center min-h-96",children:[(0,r.jsx)(F(),{className:"mx-auto mb-6",src:"/resources/settings/empty-placeholder.svg",alt:"empty",width:142,height:127}),(0,r.jsx)("p",{className:"text-felo-text-3 dark:text-felo-text-3-dark",children:l("settings_modal.credits_table.empty_tip")})]})]}),n&&n.pages>1&&(0,r.jsx)("div",{className:"mt-4 flex justify-center",children:(0,r.jsx)(w.tl,{children:(0,r.jsx)(w.ng,{children:(()=>{if(!n)return[];let e=[],t=n.pages;c>1&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.dN,{href:"#",onClick:e=>{e.preventDefault(),p(c-1)}})},"prev"));for(let s=1;s<=t;s++)1===s||s===t||s>=c-1&&s<=c+1?e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.kN,{href:"#",onClick:e=>{e.preventDefault(),p(s)},isActive:s===c,children:s})},s)):(s===c-2||s===c+2)&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.Dj,{})},"ellipsis-".concat(s)));return c<t&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.$0,{href:"#",onClick:e=>{e.preventDefault(),p(c+1)}})},"next")),e})()})})})]})},S=e=>{var t;let{pageSize:s=8}=e,l=(0,x.useTranslations)(),[n,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(1),u=async e=>{d(!0);try{let t=await (0,E.un)({size:s,current:e});(null==t?void 0:t.data)&&i(t.data)}catch(e){console.error("获取积分消耗失败:",e)}finally{d(!1)}};(0,a.useEffect)(()=>{u(1)},[]);let p=e=>{m(e),u(e)},h=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),f=e=>({PRO_SEARCH:["",l("subscription.pro_search_professional")],RESEARCH_AGENT:["",l("subscription.research_agent")],DOCUMENT_GEN:["",l("subscription.ai_business_document_generation")],PPT_BASIC:["",l("subscription.classic_ppt_generation")],VOICE_NOTE:["",l("subscription.ai_voice_assistant")],PLAYGROUND:["",l("subscription.playground_model_dialogue")],MIND_MAP:["",l("subscription.ai_mindmap_generation")],AI_DIAGRAM:["",l("subscription.ai_realtime_visualization")],SMART_GRAPHICS:["",l("subscription.ai_realtime_smart_graphics")],GPT_IMAGE:["",l("subscription.image_generation_ai_editing")],PAGE_GEN:[l("html_agent"),l("subscription.generation_per_page")],PAGE_IMAGE_GEN:[l("html_agent"),l("subscription.image_generation_ai_editing")],PAGE_IMAGE_SEARCH:[l("html_agent"),l("subscription.image_search")],PAGE_CHAT:[l("html_agent"),l("subscription.dialogue")],PAGE_EXPORT:[l("html_agent"),l("subscription.file_export")],SLIDES_ADVANCED:[l("subscription.slides"),l("subscription.generation_per_page")],SLIDES_ADVANCED_UPDATE:[l("subscription.slides"),l("subscription.generation_per_page")],SLIDES_BASIC_MENTAL_MODEL:[l("subscription.slides"),l("subscription.thinking_model")],SLIDES_BASIC_MENTAL_MODEL_UPDATE:[l("subscription.slides"),l("subscription.thinking_model")],SLIDES_ADVANCED_MENTAL_MODEL:[l("subscription.slides"),l("subscription.thinking_model")],SLIDES_ADVANCED_MENTAL_MODEL_UPDATE:[l("subscription.slides"),l("subscription.thinking_model")],SLIDES_IMAGE_GEN:[l("subscription.slides"),l("subscription.image_generation_ai_editing")],SLIDES_IMAGE_SEARCH:[l("subscription.slides"),l("subscription.image_search")],SLIDES_CHAT:[l("subscription.slides"),l("subscription.dialogue")],SLIDES_EXPORT:[l("subscription.slides"),l("subscription.file_export")],AGENT_TOOLS:["","Agent"],FILE_UPLOAD:["","File Upload"]})[e]||["",e];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,b.cn)("min-h-[100px]","overflow-x-auto","border border-felo-border-3-modal dark:border-felo-border-3-modal-dark rounded-lg"),children:[(0,r.jsxs)("table",{className:(0,b.cn)("text-theme-font-800 dark:text-theme-font-dark-800 w-full"),style:{minWidth:"600px"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:(0,b.cn)("text-sm","bg-felo-bg-1-modal-second dark:bg-felo-bg-1-modal-second-dark","text-felo-text-4 dark:text-felo-text-4-dark","border-b border-felo-border-3-modal dark:border-felo-border-3-modal-dark min-h-9"),children:[(0,r.jsx)("th",{className:"py-2 px-4 text-left font-normal",children:l("settings_modal.credits_table.type")}),(0,r.jsx)("th",{className:"py-2 px-4 text-left font-normal",style:{width:"200px"},children:l("settings_modal.credits_table.detail")}),(0,r.jsx)("th",{className:"py-2 px-4 text-right font-normal",children:l("settings_modal.credits_table.date")}),(0,r.jsx)("th",{className:"py-2 px-4 text-right font-normal",style:{width:"150px"},children:l("settings_modal.credits_table.total")})]})}),(0,r.jsx)("tbody",{children:null==n?void 0:null===(t=n.records)||void 0===t?void 0:t.map((e,t)=>{let[,s]=f(e.deduction_item);return(0,r.jsxs)("tr",{className:(0,b.cn)("text-base text-[#30394A] dark:text-white","border-b last:border-b-0 border-felo-border-3-modal dark:border-felo-border-3-modal-dark"),children:[(0,r.jsx)("td",{className:"px-4 py-3",children:s}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("span",{className:"line-clamp-2",children:e.title})}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",style:{width:"150px"},children:h(e.gmt_modified)}),(0,r.jsxs)("td",{className:"px-4 py-3 text-right",style:{width:"150px"},children:["-",e.freeze_amount]})]},t)})})]}),!n&&o?(0,r.jsx)("div",{className:"flex justify-center min-h-96",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{children:l("topic.loading")})]})}):n&&0!==n.records.length?null:(0,r.jsxs)("div",{className:"flex flex-col justify-center text-center min-h-96",children:[(0,r.jsx)(F(),{className:"mx-auto mb-6",src:"/resources/settings/empty-placeholder.svg",alt:"empty",width:142,height:127}),(0,r.jsx)("p",{className:"text-felo-text-3 dark:text-felo-text-3-dark",children:l("settings_modal.credits_table.empty_tip")})]})]}),n&&n.pages>1&&(0,r.jsx)("div",{className:"mt-4 flex justify-center",children:(0,r.jsx)(w.tl,{children:(0,r.jsx)(w.ng,{children:(()=>{if(!n)return[];let e=[],t=n.pages;c>1&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.dN,{href:"#",onClick:e=>{e.preventDefault(),p(c-1)}})},"prev"));for(let s=1;s<=t;s++)1===s||s===t||s>=c-1&&s<=c+1?e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.kN,{href:"#",onClick:e=>{e.preventDefault(),p(s)},isActive:s===c,children:s})},s)):(s===c-2||s===c+2)&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.Dj,{})},"ellipsis-".concat(s)));return c<t&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.$0,{href:"#",onClick:e=>{e.preventDefault(),p(c+1)}})},"next")),e})()})})})]})},z=s(84706),Z=s(19621),I=s(8924),L=s(1167),T=()=>{let e=(0,x.useLocale)(),t=(0,x.useTranslations)(),[s,l]=(0,a.useState)("status"),n=(0,d.c0)(),i=(0,d.gQ)(),o=e=>{l(e)},{pointsCount:c}=N(),m=()=>"ja"===e?"https://felo.ai/ja/blog/felo-new-points-subscription-model/":"zh-Hant"===e?"https://felo.ai/zh-Hant/blog/felo-new-points-subscription-model/":"https://felo.ai/blog/felo-new-points-subscription-model/";return(0,r.jsxs)(L.pn,{delayDuration:0,children:[(0,r.jsxs)("h3",{className:"flex items-center gap-1 font-medium text-felo-text-4 dark:text-felo-text-4-dark mb-4",children:[t("settings_modal.current_credits"),(0,r.jsxs)(L.u,{children:[(0,r.jsx)(L.aJ,{children:(0,r.jsx)(Z.Z,{className:"w-4 h-4 text-theme-gray-300"})}),(0,r.jsxs)(L._v,{side:"bottom",className:"max-w-[300px] min-w-[300px] p-4 rounded-lg bg-slate-900 text-white",children:[(0,r.jsx)("div",{className:"text-base font-medium mb-2",children:t("points.faq_title")}),(0,r.jsxs)("ul",{className:"list-disc list-outside pl-4 gap-2",children:[(0,r.jsx)("li",{children:t("points.daily_points_desc")}),(0,r.jsx)("li",{children:t("points.monthly_points_desc")}),(0,r.jsx)("li",{children:t("points.invitation_points_desc")})]})]})]})]}),(0,r.jsxs)("div",{className:"text-3xl font-bold flex items-center gap-2 mb-6",children:[(0,r.jsx)(_.CU,{className:"size-6"}),c===1/0?t("unlimited"):c,(i&&"OWNER"===n||!i)&&(0,r.jsx)(v.z,{size:"next-sm",className:"ml-2",onClick:()=>{z.$.publish("showSubscriptionPlan",void 0)},children:t("settings_modal.recharge")})]}),(0,r.jsxs)("div",{className:"text-sm flex items-center gap-6 mb-4",children:[(0,r.jsx)("span",{className:(0,b.cn)("block pb-1 border-b-2 cursor-pointer","status"===s?"text-felo-text-brand dark:text-felo-text-brand-dark font-bold border-current":"text-felo-text-4 dark:text-felo-text-4-dark border-transparent"),onClick:()=>o("status"),children:t("settings_modal.credits_status")}),(0,r.jsx)("span",{className:(0,b.cn)("block pb-1 border-b-2 cursor-pointer","deduction"===s?"text-felo-text-brand dark:text-felo-text-brand-dark font-bold border-current":"text-felo-text-4 dark:text-felo-text-4-dark border-transparent"),onClick:()=>o("deduction"),children:t("settings_modal.credits_deduction")}),(0,r.jsxs)(v.z,{variant:"link",size:"sm",className:"ml-auto text-inherit text-felo-text-brand dark:text-felo-text-brand-dark",onClick:()=>{window.open(m(),"_blank")},children:[t("settings_modal.credits_rules"),(0,r.jsx)(I.Z,{className:"-ml-1"})]})]}),"status"===s&&(0,r.jsx)(A,{}),"deduction"===s&&(0,r.jsx)(S,{})]})},M=s(22617),R=s(66122),P=s(5588),O=s(68605),B=s(43046),G=s(39109),U=s(64862),W=s(48117),H=s(68235),$=s(29871),V=s(40967),Y=s(27751),q=()=>{var e,t,s,n,i,c,m,u,p;let h=(0,x.useTranslations)(),f=(0,M.ZP)(e=>e.enterpriseInfo),g=(0,M.ZP)(e=>e.setEnterpriseInfo),b=(0,M.ZP)(e=>e.setOrgAccountList),_=(0,G.Z)(),k=(0,d.c0)(),N=(0,M.px)(),w=(0,M.eI)(),{isLoading:E,handleDissolveOrg:D,handleLeaveOrg:F}=(0,H.J)(),{isMobile:C}=(0,$.Z)(),[A,S]=(0,a.useState)(!1),I=N===B.e0.FREE||k!==B.gY.OWNER,T=k===B.gY.OWNER,q=async()=>{if(C){o.Z.getState().setUsePcDialogVisible(!0);return}let e=await (0,O.IF)({return_url:"".concat(window.location.origin)});e&&window.open(e,"_blank")},[J,Q]=(0,a.useState)(!1),[X,K]=(0,a.useState)(!1),[ee,et]=(0,a.useState)((null==f?void 0:null===(e=f.org)||void 0===e?void 0:e.name)||""),[es,er]=(0,a.useState)((null==f?void 0:null===(t=f.org)||void 0===t?void 0:t.description)||""),[ea,el]=(0,a.useState)((null==f?void 0:null===(s=f.org)||void 0===s?void 0:s.avatar)||""),[en,ei]=(0,a.useState)(0),eo=(0,j.ZP)(e=>e.subscriptionInfo),ed=async()=>{var e,t,s,r;let a=null==f?void 0:null===(e=f.org)||void 0===e?void 0:e.org_id;if(!a||ee.length>500){K(!1);return}if((null==ee?void 0:ee.trim())===""){_.default(h("enterprise.org_name_required"));return}g({...f,org:{...f.org,name:ee||(null==f?void 0:null===(t=f.org)||void 0===t?void 0:t.name)||""}}),b(M.ZP.getState().orgAccountList.map(e=>({...e,name:(null==e?void 0:e.org_id)===a?ee:e.name}))),K(!1),await (0,O.Q7)({org_id:a,avatar:(null==f?void 0:null===(s=f.org)||void 0===s?void 0:s.avatar)||"",name:ee||"",description:(null==f?void 0:null===(r=f.org)||void 0===r?void 0:r.description)||""})};(0,a.useEffect)(()=>{var e;el((null==f?void 0:null===(e=f.org)||void 0===e?void 0:e.avatar)||"")},[null==f?void 0:null===(n=f.org)||void 0===n?void 0:n.avatar]),(0,a.useEffect)(()=>{var e;er((null==f?void 0:null===(e=f.org)||void 0===e?void 0:e.description)||"")},[null==f?void 0:null===(i=f.org)||void 0===i?void 0:i.description]),(0,a.useEffect)(()=>{var e;et((null==f?void 0:null===(e=f.org)||void 0===e?void 0:e.name)||"")},[null==f?void 0:null===(c=f.org)||void 0===c?void 0:c.name]),(0,a.useEffect)(()=>{let{enterpriseInfo:e,setEnterpriseInfo:t}=M.ZP.getState();e||(0,O.dC)().then(e=>{t(e)})},[]);let ec=async()=>{var e,t,s;let r=null==f?void 0:null===(e=f.org)||void 0===e?void 0:e.org_id;if(!r||es.length>500)return;if((null==es?void 0:es.trim())===""){_.default(h("enterprise.org_description_required"));return}Q(!1);let a=await (0,O.Q7)({org_id:r,avatar:(null==f?void 0:null===(t=f.org)||void 0===t?void 0:t.avatar)||"",name:(null==f?void 0:null===(s=f.org)||void 0===s?void 0:s.name)||"",description:es||""});a&&M.ZP.getState().updateEnterpriseInfoField("org",a)};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,V.$)({title:h("settings_modal.enterprise_name"),content:X?(0,r.jsx)(P.I,{value:ee,onChange:e=>{et(e.target.value)},id:"name",placeholder:h("enterprise.org_name_placeholder"),maxLength:500,className:"mt-2 focus-visible:ring-0 focus-visible:ring-offset-0 h-8",autoComplete:"off"}):(0,r.jsx)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:ee}),action:()=>T?X?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.z,{variant:"outline",size:"sm",className:"h-8 mr-2",onClick:()=>{var e;K(!1),et((null==f?void 0:null===(e=f.org)||void 0===e?void 0:e.name)||"")},children:h("enterprise.cancel")}),(0,r.jsx)(v.z,{size:"sm",className:"h-8",onClick:ed,children:h("enterprise.save")})]}):(0,r.jsx)(v.z,{variant:"outline",size:"sm",className:"h-auto p-3",onClick:()=>{K(!0)},children:(0,r.jsx)(U.Z,{})}):null}),(0,V.$)({title:h("settings_modal.enterprise_avatar"),content:(0,r.jsx)(R.Z,{className:"mt-2",avatar:ea||"",setAvatar:el,avatarProgress:en,setAvatarProgress:ei,isOwner:T})}),(0,V.$)({title:h("enterprise.setting_org_description"),content:J?(0,r.jsx)(W.g,{value:es,rows:3,onChange:e=>{er(e.target.value)},id:"name",placeholder:h("enterprise.org_description_placeholder"),maxLength:500,className:"mt-2 focus-visible:ring-0 focus-visible:ring-offset-0 w-full",autoComplete:"off"}):(0,r.jsx)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:es||h("enterprise.org_description_placeholder")}),action:()=>T?J?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.z,{variant:"outline",size:"sm",className:"h-8 mr-2",onClick:()=>{var e;Q(!1),er((null==f?void 0:null===(e=f.org)||void 0===e?void 0:e.description)||"")},children:h("enterprise.cancel")}),(0,r.jsx)(v.z,{size:"sm",className:"h-8",onClick:ec,children:h("enterprise.save")})]}):(0,r.jsx)(v.z,{variant:"outline",size:"sm",className:"h-auto p-3",onClick:()=>{Q(!0)},children:(0,r.jsx)(U.Z,{})}):null}),(0,V.$)({title:h("settings_modal.enterprise_id"),content:(0,r.jsx)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:null==f?void 0:null===(m=f.org)||void 0===m?void 0:m.org_id})}),(0,V.$)({title:h("settings_modal.enterprise_owner"),content:(0,r.jsx)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:null==f?void 0:f.org_owner.email})}),(0,r.jsx)("hr",{className:"border-t border-felo-border-3-modal dark:border-felo-border-3-modal-dark mb-6"}),(0,V.$)({title:h("enterprise.setting_org_bill_subscribe"),content:(0,r.jsx)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:w&&(B.PA[w]||"Business")}),action:()=>k===B.gY.OWNER?N===B.e0.FREE?(0,r.jsx)(v.z,{onClick:()=>{z.$.publish("showSubscriptionEnterprisePlan",void 0)},size:"sm",children:h("enterprise.upgrade")}):(0,r.jsx)(v.z,{variant:"outline",size:"sm",onClick:q,children:h("enterprise.setting_org_bill_management")}):N===B.e0.FREE?(0,r.jsx)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:B.e0.FREE}):void 0}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"",children:h("settings_modal.enterprise_credit")}),(0,r.jsx)("div",{className:"group relative",children:(0,r.jsx)(L.pn,{children:(0,r.jsxs)(L.u,{delayDuration:0,children:[(0,r.jsx)(L.aJ,{asChild:!0,children:(0,r.jsx)(Z.Z,{className:"w-4 h-4 text-gray-400 cursor-pointer"})}),(0,r.jsx)(L._v,{className:"max-w-[300px] min-w-[300px] p-2 rounded-lg bg-slate-900 text-white",children:(0,r.jsxs)("p",{children:[" ",h("settings_modal.enterprise_credit_desc")]})})]})})})]}),(0,r.jsx)("div",{className:"flex items-center gap-2 text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:h("settings_modal.remaining",{count:(null==eo?void 0:null===(u=eo.pointsEnterpriseUsage)||void 0===u?void 0:u.balance)||0})})]}),(0,r.jsx)("div",{className:"ml-auto",children:"OWNER"===k&&(0,r.jsx)(v.z,{variant:"outline",onClick:()=>{N===B.e0.FREE?_.default(h("subscription.only_support_enterprise_purchase")):Y.Z.getState().setShowBuyPointsModal(!0)},size:"sm",children:h("settings_modal.recharge")})})]}),(0,V.$)({title:T?h("enterprise.setting_org_remove_org_title"):h("enterprise.leave_org_title"),content:(0,r.jsx)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:T?h("enterprise.setting_free_org_remove_org_desc"):h.rich("enterprise.leave_org_desc",{name:null==f?void 0:null===(p=f.org)||void 0===p?void 0:p.name,strong:e=>(0,r.jsx)("strong",{children:e})})}),action:I?(0,r.jsx)(v.z,{size:"sm",variant:"outline",className:"mt-2 w-fit",onClick:()=>S(!0),children:h("enterprise.setting_learn_more")}):(0,r.jsx)(v.z,{size:"sm",variant:"outline",onClick:()=>{window.location.href="mailto:".concat(B.Xy)},children:B.Xy})}),(0,r.jsx)(l.Vq,{open:A,onOpenChange:S,children:(0,r.jsxs)(l.cZ,{className:"sm:max-w-[600px]","aria-describedby":void 0,children:[(0,r.jsx)(l.fK,{children:(0,r.jsx)(l.$N,{children:T?h("enterprise.setting_org_remove_org_title"):h("enterprise.leave_org_title")})}),(0,r.jsx)(l.a7,{className:"text-gray-500",children:T?h("enterprise.remove_org_modal_desc"):h("enterprise.leave_org_modal_desc")}),(0,r.jsxs)(l.cN,{children:[(0,r.jsx)(v.z,{size:"sm",variant:"outline",onClick:()=>{S(!1)},children:h("enterprise.cancel")}),(0,r.jsxs)(v.z,{size:"sm",variant:"destructive",disabled:E,onClick:()=>{T?D():F()},children:[E&&(0,r.jsx)(y.Z,{className:"animate-spin"}),T?h("enterprise.remove_btn"):h("enterprise.leave_btn")]})]})]})})]})},J=s(29197),Q=s(59197),X=s(41209),K=()=>{var e,t,s,l;let n=(0,x.useTranslations)(),{isMobile:i}=(0,$.Z)(),o=(0,d.c0)(),{memberList:c,enterpriseInfo:m,orgPlan:u,isLoading:p,pageTotal:h,getMemberList:f,onBuySeat:g,handleInvite:b}=(0,X.H)(),{enterprisePlan:_}=(0,M.ZP)();(0,a.useEffect)(()=>{let{enterpriseInfo:e,setEnterpriseInfo:t}=M.ZP.getState();e||(0,O.dC)().then(e=>{t(e)})},[]);let j=(0,r.jsxs)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:[(null==m?void 0:m.org_type)==="FREE"&&(0,r.jsx)(J.Z,{className:"inline-block mr-2 align-text-top",size:16,color:"red"}),(null==m?void 0:m.org_type)!=="FREE"?n.rich("enterprise.active_seats",{strong:e=>(0,r.jsx)("span",{className:"text-[#30394A] dark:text-white",children:e}),used:null!==(s=null==_?void 0:null===(e=_.org_subscription)||void 0===e?void 0:e.bind_seats)&&void 0!==s?s:0,total:null!==(l=null==_?void 0:null===(t=_.org_subscription)||void 0===t?void 0:t.all_seats)&&void 0!==l?l:0}):n("enterprise.org_not_upgrade"),i?null:(0,r.jsx)("span",{className:"text-primary",children:(null==m?void 0:m.org_member.role)==="OWNER"?(0,r.jsx)("span",{className:"text-primary cursor-pointer",onClick:g,children:n("enterprise.buy_seats")}):(0,r.jsx)("a",{href:"/faq?tabid=enterprise",className:"text-primary underline ml-2",target:"_blank",children:n("enterprise.detail_desc")})})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-6 last:mb-0 flex gap-4 md:items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("span",{className:"block font-medium mb-1",children:n("enterprise.seat_management")}),j]}),("OWNER"===o||"ADMIN"===o)&&(0,r.jsx)(v.z,{size:"next-lg",onClick:()=>b(i),children:n("enterprise.invite_member")})]}),(0,r.jsx)(Q.Z,{memberList:c,enterpriseInfo:m,getMemberList:f,isLoading:p,pageTotal:h,width:600})]})},ee=s(18379),et=s(58474),es=s(20388),er=s(26448),ea=()=>{let e=(0,x.useTranslations)(),t=(0,M.ZP)(e=>e.enterpriseInfo);return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-felo-text-3 dark:text-felo-text-3-dark text-lg font-medium mb-6",children:e("enterprise.share_permissions")}),(0,r.jsx)(ee.Z,{className:"space-y-8"})]}),(null==t?void 0:t.org_type)!=="FREE"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:"border-t border-felo-border-3-modal dark:border-felo-border-3-modal-dark mb-8"}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-felo-text-3 dark:text-felo-text-3-dark text-lg font-medium mb-6",children:e("security.title")}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(et.Z,{}),(0,r.jsx)(es.Z,{}),(0,r.jsx)(er.Z,{})]})]})]})]})},el=s(53232),en=s(40548),ei=s.n(en),eo=()=>{let e=(0,x.useTranslations)(),t=(0,r.jsx)(el.Z,{className:"text-felo-text-4 dark:text-felo-text-4-dark",size:18});return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsxs)("a",{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",href:"https://account.felo.ai/policies/privacy-policy",target:"_blank",children:[(0,r.jsx)("div",{children:e("policy")}),t]}),(0,r.jsxs)("a",{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",href:"https://account.felo.ai/policies/terms-of-use",target:"_blank",children:[(0,r.jsx)("div",{children:e("terms_use")}),t]}),(0,r.jsxs)(ei(),{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",target:"_blank",href:"/search/scta",prefetch:!1,children:[e("scta"),t]}),(0,r.jsxs)("a",{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",target:"_blank",href:"/enterprise",children:[e("enterprise.create_title"),t]})]}),(0,r.jsx)("hr",{className:"border-t border-theme-border-200 dark:border-theme-border-dark-200"}),(0,r.jsx)("section",{className:"space-y-3",children:(0,r.jsxs)("a",{href:"https://playground.felo.ai",className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",target:"_blank",onClick:e=>{e.preventDefault(),z.$.publish("openChat",void 0)},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block mb-1",children:"LLM Playground"}),(0,r.jsx)("span",{className:"text-felo-text-4 dark:text-felo-text-4-dark text-sm",children:e("settings_modal.llm_playground_desc")})]}),t]})}),(0,r.jsx)("hr",{className:"border-t border-theme-border-200 dark:border-theme-border-dark-200"}),(0,r.jsxs)("section",{className:"space-y-3",children:[(0,r.jsxs)("a",{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",href:"https://official.felo.ai",target:"_blank",title:"Twitter",children:[e("settings_modal.official_website"),t]}),(0,r.jsxs)("a",{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",href:"https://felo.ai/blog",target:"_blank",title:"Twitter",children:["Felo Blog",t]}),(0,r.jsxs)("a",{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",href:"https://x.com/felo_ai",target:"_blank",title:"Twitter",children:["Twitter",(0,r.jsx)(v.z,{variant:"outline",children:"@felo_ai"})]}),(0,r.jsxs)("a",{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",href:"https://discord.gg/PsReJWbThX",target:"_blank",title:"Discord",children:["Discord",(0,r.jsx)(v.z,{variant:"outline",children:"加入讨论"})]}),(0,r.jsxs)("a",{className:"p-2 font-medium flex gap-2 items-center justify-between cursor-pointer rounded hover:bg-felo-bg-1-modal-second dark:hover:bg-felo-bg-1-modal-second-dark transition-colors",href:"",title:"Support",onClick:e=>{e.preventDefault(),location.href="mailto:support@felo.ai"},children:["Support",(0,r.jsx)(v.z,{variant:"outline",children:"联系我们"})]})]})]})},ed=s(33403),ec=s(66688),ex=s(76306),em=s(14932),eu=s(61973),ep=s(11671),eh=s(88294),ef=s(80145),eg=s(9369),eb=s(91165),e_=s(60904),ev=s(14489),ej=s(36471),ek=s(14425);function eN(){let e=(0,ev._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return eN=function(){return e},e}function ey(){let e=(0,ev._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return ey=function(){return e},e}function ew(e){let{className:t,classNames:s,showOutsideDays:a=!0,captionLayout:l="label",buttonVariant:n="ghost",formatters:o,components:d,...c}=e,x=(0,ej.U)();return(0,r.jsx)(ek._,{showOutsideDays:a,className:(0,b.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(eN()),String.raw(ey()),t),captionLayout:l,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...o},classNames:{root:(0,b.cn)("w-fit",x.root),months:(0,b.cn)("relative flex flex-col gap-4 md:flex-row",x.months),month:(0,b.cn)("flex w-full flex-col gap-4",x.month),nav:(0,b.cn)("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",x.nav),button_previous:(0,b.cn)((0,v.d)({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",x.button_previous),button_next:(0,b.cn)((0,v.d)({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",x.button_next),month_caption:(0,b.cn)("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",x.month_caption),dropdowns:(0,b.cn)("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",x.dropdowns),dropdown_root:(0,b.cn)("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",x.dropdown_root),dropdown:(0,b.cn)("bg-popover absolute inset-0 opacity-0",x.dropdown),caption_label:(0,b.cn)("select-none font-medium","label"===l?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",x.caption_label),table:"w-full border-collapse",weekdays:(0,b.cn)("flex",x.weekdays),weekday:(0,b.cn)("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",x.weekday),week:(0,b.cn)("mt-2 flex w-full",x.week),week_number_header:(0,b.cn)("w-[--cell-size] select-none",x.week_number_header),week_number:(0,b.cn)("text-muted-foreground select-none text-[0.8rem]",x.week_number),day:(0,b.cn)("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",x.day),range_start:(0,b.cn)("bg-accent rounded-l-md",x.range_start),range_middle:(0,b.cn)("rounded-none",x.range_middle),range_end:(0,b.cn)("bg-accent rounded-r-md",x.range_end),today:(0,b.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",x.today),outside:(0,b.cn)("text-muted-foreground aria-selected:text-muted-foreground",x.outside),disabled:(0,b.cn)("text-muted-foreground opacity-50",x.disabled),hidden:(0,b.cn)("invisible",x.hidden),...s},components:{Root:e=>{let{className:t,rootRef:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"calendar",ref:s,className:(0,b.cn)(t),...a})},Chevron:e=>{let{className:t,orientation:s,...a}=e;return"left"===s?(0,r.jsx)(i.Z,{className:(0,b.cn)("size-4",t),...a}):"right"===s?(0,r.jsx)(I.Z,{className:(0,b.cn)("size-4",t),...a}):(0,r.jsx)(eg.Z,{className:(0,b.cn)("size-4",t),...a})},DayButton:eE,WeekNumber:e=>{let{children:t,...s}=e;return(0,r.jsx)("td",{...s,children:(0,r.jsx)("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:t})})},...d},...c})}function eE(e){let{className:t,day:s,modifiers:l,...n}=e,i=(0,ej.U)(),o=a.useRef(null);return a.useEffect(()=>{var e;l.focused&&(null===(e=o.current)||void 0===e||e.focus())},[l.focused]),(0,r.jsx)(v.z,{ref:o,variant:"ghost",size:"icon","data-day":s.date.toLocaleDateString(),"data-selected-single":l.selected&&!l.range_start&&!l.range_end&&!l.range_middle,"data-range-start":l.range_start,"data-range-end":l.range_end,"data-range-middle":l.range_middle,className:(0,b.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",i.day,t),...n})}var eD=s(57207),eF=s(67629),eC=s(88991),eA=s(1637),eS=s(27864),ez=s(48779),eZ=s(13136),eI=s(34658),eL=s(48034),eT=s(33651),eM=e=>{let{startDate:t,endDate:s,email:l,getTranslationKey:n,placeholder:i}=e,o=(0,x.useTranslations)(),d=(0,x.useLocale)();(0,G.Z)();let[c,m]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[h,f]=(0,a.useState)(1),[g,_]=(0,a.useState)(0),[j,k]=(0,a.useState)({from:t?new Date(t):void 0,to:s?new Date(s):void 0}),[N,y]=(0,a.useState)([]),[E,D]=(0,a.useState)(0);(0,a.useEffect)(()=>{_(Math.ceil(E/8))},[E]),(0,a.useEffect)(()=>{l?(p(l),F(1,l)):F(1)},[l]);let F=(e,t)=>{m(!0),f(e||1);let s=t||u;(0,O.PO)({startDate:(null==j?void 0:j.from)?new Date(j.from).toISOString().split(".")[0]+"Z":"",endDate:(null==j?void 0:j.to)?new Date(j.to).toISOString().split(".")[0]+"Z":"",email:s,current:e||1,size:8}).then(e=>{console.log(e),e&&e.data?(y(e.data.records||[]),D(e.data.total||0)):(y([]),D(0))}).catch(e=>{console.log(e),y([])}).finally(()=>{m(!1)})},C=e=>e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"--",A=e=>{e>=1&&e<=g&&(f(e),F(e))};return(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)(eD.J2,{children:[(0,r.jsx)(eD.xo,{asChild:!0,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:(0,b.cn)("flex text-[#4B5F7E] min-w-[230px] dark:text-white","border-[#E6E9EF] dark:bg-[#202531] dark:border-[#545D6F] ","font-medium text-sm items-center border rounded-lg py-2 pl-3 pr-9 w-max",!(null==j?void 0:j.from)&&"text-muted-foreground"),children:[(0,r.jsx)(eh.Z,{className:"mr-2 h-4 w-4"}),(null==j?void 0:j.from)?j.to?(0,r.jsxs)(r.Fragment,{children:[(0,eF.WU)(j.from,"yyyy-MM-dd")," -"," ",(0,eF.WU)(j.to,"yyyy-MM-dd")]}):(0,eF.WU)(j.from,"yyyy-MM-dd"):o("settings_modal.select_date_range")]}),((null==j?void 0:j.from)||(null==j?void 0:j.to))&&(0,r.jsx)("button",{onClick:()=>k(void 0),className:(0,b.cn)("absolute right-3 top-[20px] transform -translate-y-1/2 text-gray-400 hover:text-gray-600 text-sm","bg-[#F6F7F9] text-[#8896AA] dark:text-[#F3F5F7] dark:bg-[#353B46] hover:dark:bg-[#353B46]/90 rounded-full p-[2px]"),children:(0,r.jsx)(e_.Z,{className:"w-3 h-3 text-[#8896AA] dark:text-[#B9BFCA]"})})]})}),(0,r.jsx)(eD.yk,{className:"w-auto p-0",align:"start",children:(0,r.jsx)(ew,{initialFocus:!0,mode:"range",defaultMonth:null==j?void 0:j.from,selected:j,onSelect:k,numberOfMonths:2,locale:(()=>{switch(d){case"zh-Hans":return eC.U;case"zh-Hant":return eA.c;case"ja":return eS.ja;case"en":default:return ez._;case"ru":return eZ.ru;case"ko":return eI.ko;case"he":return eL.he;case"ar":return eT.ar}})()})})]})}),(0,r.jsx)("div",{children:(0,r.jsx)(P.I,{placeholder:o("settings_modal.email_address"),value:u,onChange:e=>{p(e.target.value),f(1)},className:"flex text-[#4B5F7E] dark:text-white border-[#E6E9EF] dark:bg-[#202531] dark:border-[#545D6F] font-medium text-sm items-center border rounded-lg py-2 px-3 w-max"})}),(0,r.jsx)(v.z,{onClick:()=>F(1),disabled:!(null==j?void 0:j.from)||!(null==j?void 0:j.to),children:o("search")})]}),(0,r.jsxs)("div",{className:"border overflow-y-auto border-felo-border-3-modal dark:border-felo-border-3-modal-dark rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:c?(0,r.jsx)("div",{className:"py-16 text-center",children:(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 text-gray-500",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,r.jsx)("span",{children:o("topic.loading")})]})}):(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-felo-border-3-modal dark:border-felo-border-3-modal-dark bg-felo-bg-1-modal-second dark:bg-felo-bg-1-modal-second-dark",children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-normal text-felo-text-4 dark:text-felo-text-4-dark",children:o("enterprise.email")}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-normal text-felo-text-4 dark:text-felo-text-4-dark",children:o("settings_modal.function")}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-normal text-felo-text-4 dark:text-felo-text-4-dark",children:o("settings_modal.credits_table.date")}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-normal text-felo-text-4 dark:text-felo-text-4-dark",children:o("settings_modal.credits_table.total")})]})}),(0,r.jsx)("tbody",{children:N.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b last:border-b-0 border-felo-border-3-modal dark:border-felo-border-3-modal-dark \n                    ",children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-felo-text-3 dark:text-felo-text-3-dark",children:e.email}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-felo-text-3 dark:text-felo-text-3-dark",children:o(n(e.session_type))||"-"}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-felo-text-3 dark:text-felo-text-3-dark",children:C(e.gmt_modified)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-felo-text-3 dark:text-felo-text-3-dark",children:e.deduction_amount||"--"})]},t))})]})}),!c&&0===E&&i()]}),!c&&E>8&&(0,r.jsx)("div",{className:"mt-4 flex justify-center",children:(0,r.jsx)(w.tl,{children:(0,r.jsx)(w.ng,{children:(()=>{if(E<=8)return[];let e=[];h>1&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.dN,{href:"#",onClick:e=>{e.preventDefault(),A(h-1)}})},"prev"));for(let t=1;t<=g;t++)1===t||t===g||t>=h-1&&t<=h+1?e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.kN,{href:"#",onClick:e=>{e.preventDefault(),A(t)},isActive:t===h,children:t})},t)):(t===h-2||t===h+2)&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.Dj,{})},"ellipsis-".concat(t)));return h<g&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.$0,{href:"#",onClick:e=>{e.preventDefault(),A(h+1)}})},"next")),e})()})})})]})};let eR=e=>/[a-zA-Z]/.test(e),eP=e=>{if(!e||"--"===e)return"--";let t=0,s="";for(let r=0;r<e.length;r++){let a=e[r];if(eR(a)){if(t>=15)return s+"...";t+=1}else{if(t>=10)return s+"...";t+=1}s+=a}return s},eO=e=>{if(!e||"--"===e)return!1;let t=0;for(let s=0;s<e.length;s++)if(eR(e[s])){if((t+=1)>15)return!0}else if((t+=1)>10)return!0;return!1},eB=e=>({AI_SLIDE:"ppt_generation_v2",AI_PAGE:"html_agent",SEARCH:"search",RESEARCH_AGENT:"research_analysis",AGENT:"settings_modal.agent",VOICE_NOTE:"settings.voice_note",PLAYGROUND:"settings_modal.playground","-":"subscription.other"})[e]||"subscription.other",eG=e=>{let t=Object.values(e).reduce((e,t)=>e+t,0),s={AI_SLIDE:"#7BC8E9",AI_PAGE:"#A496EF",SEARCH:"#F77B94",RESEARCH_AGENT:"#F18CC3",AGENT:"#79A9F4",VOICE_NOTE:"#5AC694",PLAYGROUND:"#EA8C6E","-":"#FBC873"};return Object.entries(e).map(e=>{let[r,a]=e;return{name:r,value:t>0?Number((a/t*100).toFixed(1)):0,color:s[r]||"#FBC873",rawValue:a}})};var eU=()=>{var e,t,s;let l=(0,x.useTranslations)(),i=(0,o.Z)(e=>e.setSettingsModalTitle),c=(0,o.Z)(e=>e.setIsBoardDetailsView),m=(0,o.Z)(e=>e.isBoardDetailsView),u=(0,G.Z)(),[p,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)(!0),[_,v]=(0,a.useState)(!0),[j,k]=(0,a.useState)(1),[N,E]=(0,a.useState)(0),[D,C]=(0,a.useState)(""),[A,S]=(0,a.useState)(""),[z,I]=(0,a.useState)(null),[T,R]=(0,a.useState)(""),[P,U]=(0,a.useState)([]),[W,H]=(0,a.useState)(!1),[$,V]=(0,a.useState)(0),q=(0,a.useRef)(null),J=(0,M.px)(),Q=(0,d.c0)(),[X,K]=(0,a.useState)([]),[ee,et]=(0,a.useState)({users:[],total:0});(0,a.useEffect)(()=>{E(Math.ceil(ee.total/10))},[ee]);let es=e=>{e>=1&&e<=N&&(k(e),er(e))},er=async e=>{v(!0),et({users:[],total:0});let t=await (0,O.jW)(e||1);console.log("res",t),v(!1);let s=null==t?void 0:t.data;s&&(console.log("data",s),et({users:null==s?void 0:s.records,total:null==s?void 0:s.total}))},ea=async(e,t)=>{g(!0),v(!0);let s=await (0,O.UB)(e,t);if(console.log(s),null==s?void 0:s.data){var r,a;I(null==s?void 0:s.data);let e=null==s?void 0:s.data,t=null==e?void 0:null===(r=e.seat_page)||void 0===r?void 0:r.records,l=null==e?void 0:null===(a=e.seat_page)||void 0===a?void 0:a.total;if(null==e?void 0:e.org_subscription_periods){U(e.org_subscription_periods);let t=e.org_subscription_periods.findIndex(t=>t.period_id===e.period_id);-1!==t?V(t):V(0)}(null==e?void 0:e.seat_page)?et({users:t,total:l}):et({users:[],total:0});let n=null==e?void 0:e.rate;n&&"object"==typeof n&&!Array.isArray(n)?K(eG(n)):K([])}h(!1),v(!1),g(!1)};(0,a.useEffect)(()=>{try{if(J===B.e0.FREE){let e=new Date().setHours(0,0,0,0);ea(void 0,e)}else ea()}catch(e){console.log(e)}},[]),(0,a.useEffect)(()=>{c(!1),i(l("settings_modal.board"))},[]),(0,a.useEffect)(()=>{let e=()=>{m&&c(!1)};return window.addEventListener("backToBoard",e),()=>{window.removeEventListener("backToBoard",e)}},[m,c]),(0,a.useEffect)(()=>{let e=e=>{q.current&&!q.current.contains(e.target)&&H(!1)};return W&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[W]);let el=e=>e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"--",en=(e,t)=>{if(!e||!t){let e=new Date;return"".concat(e.getMonth()+1,"/").concat(e.getDate())}let s=el(e),r=el(t);return"".concat(s," - ").concat(r)};(0,a.useEffect)(()=>{if(P.length>0&&$>=0&&$<P.length){let e=P[$];e&&(C(el(e.start_time)),S(el(e.end_time)))}},[P,$]);let ei=e=>{V(e),H(!1),ea(P[e].period_id)},eo=e=>{R(e||""),c(!0)},e_=()=>(0,r.jsxs)("div",{className:"flex my-10 flex-col justify-center text-center",children:[(0,r.jsx)(F(),{className:"mx-auto mb-6 dark:text-[#D0D4DC]",src:"/resources/settings/empty-placeholder.svg",alt:"empty",width:142,height:127}),(0,r.jsx)("p",{className:"text-felo-text-3 dark:text-[#D0D4DC]",children:l("settings_modal.credits_table.empty_tip")})]});return m?(0,r.jsx)(eM,{startDate:D,endDate:A,email:T,getTranslationKey:eB,placeholder:e_}):(0,r.jsxs)("div",{children:[!p&&(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("button",{onClick:()=>{0!==P.length&&(ea(P[$+1].period_id),V($+1))},disabled:$===P.length-1||0===P.length,className:(0,b.cn)("p-2 text-[#5F7698] dark:text-[#D0D4DC] rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",$===P.length-1||0===P.length?"bg-[#F6F7F9] dark:bg-[#454E5D] cursor-not-allowed":"bg-[#F6F7F9] dark:bg-[#454E5D] hover:bg-[#E6E9EF] dark:hover:bg-[#545D6F]"),children:(0,r.jsx)(ep.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"relative mx-2",ref:q,children:[(0,r.jsxs)("button",{onClick:()=>H(!W),className:"flex text-[#4B5F7E] dark:text-white border-[#E6E9EF] dark:bg-[#202531] dark:border-[#545D6F] font-medium text-sm items-center border rounded-lg py-2 px-3 transition-colors",children:[(0,r.jsx)(eh.Z,{className:"h-4 w-4 mr-2"}),(0,r.jsx)("span",{children:(()=>{if(0===P.length){let e=new Date;return"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate())}let e=P[$];return e?en(e.start_time,e.end_time):"--"})()}),P.length>0&&(W?(0,r.jsx)(ef.Z,{className:"h-5 w-5 ml-2"}):(0,r.jsx)(eg.Z,{className:"h-5 w-5 ml-2"}))]}),W&&P.length>0&&(0,r.jsxs)("div",{className:"absolute p-2 top-full left-0 mt-1 bg-white dark:bg-[#202531] border border-[#E6E9EF] dark:border-[#545D6F] rounded-lg shadow-lg z-50 min-w-[300px] max-h-60 overflow-y-auto",children:[(0,r.jsx)("div",{className:"px-3 py-2 text-sm font-medium text-[#4B5F7E] dark:text-white",children:l("settings_modal.subscription_history")}),(0,r.jsx)("div",{className:"py-1",children:P.map((e,t)=>(0,r.jsxs)("button",{onClick:()=>ei(t),className:(0,b.cn)("w-full rounded-lg px-3 py-2 text-left text-sm hover:bg-[#F6F7F9] dark:hover:bg-[#545D6F] transition-colors flex items-center justify-between group",t===$&&"bg-[#EDFAFF] dark:bg-[#25364DCC]"),children:[(0,r.jsx)("span",{className:"text-[#30394A] dark:text-white",children:en(e.start_time,e.end_time)}),t===$&&(0,r.jsx)(eb.Z,{className:"h-4 w-4 text-[#0080FF] dark:text-blue-400"})]},e.period_id||t))})]})]}),(0,r.jsx)("button",{onClick:()=>{0!==P.length&&(ea(P[$-1].period_id),V($-1))},disabled:0===$||0===P.length,className:(0,b.cn)("p-2 text-[#5F7698] dark:text-[#D0D4DC] rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",0===$||0===P.length?"bg-[#F6F7F9] dark:bg-[#454E5D] cursor-not-allowed":"bg-[#F6F7F9] dark:bg-[#454E5D] hover:bg-[#E6E9EF] dark:hover:bg-[#545D6F]"),children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})]}),f&&_&&(0,r.jsxs)("div",{className:"flex items-center justify-center h-48",children:[(0,r.jsx)(y.Z,{className:"h-5 w-5 animate-spin mr-2"}),(0,r.jsx)("span",{children:l("topic.loading")})]}),(!f||!_)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex bg-[#ECF8FD] dark:bg-[#1A556E] rounded-2xl py-4 px-6 items-center",children:[(0,r.jsxs)("div",{className:"mr-2",children:[(0,r.jsx)("div",{className:"text-sm text-[#217193] dark:text-[#D5EEFE] font-bold",children:l("settings_modal.enterprise_package")}),(0,r.jsx)("div",{className:"text-3xl mt-[6px] font-bold text-[#217193] dark:text-[#D5EEFE]",children:J===B.e0.FREE?B.e0.FREE:(null==z?void 0:null===(e=z.org_subscription)||void 0===e?void 0:e.product_id)&&B.PA[null==z?void 0:null===(t=z.org_subscription)||void 0===t?void 0:t.product_id]})]}),(0,r.jsxs)("div",{className:"ml-auto flex items-stretch",children:[(0,r.jsxs)("div",{className:"bg-[#FAFDFF] dark:bg-[#12394A] dark:border-[#217193] w-[120px] border-[#D5EEFE] rounded-2xl px-6 py-3 border mr-2 flex flex-col justify-center",children:[(0,r.jsx)("div",{className:"text-sm text-[#30394A] dark:text-white font-medium",children:l("settings_modal.seats_number")}),(0,r.jsx)("div",{className:"text-[#30394A] dark:text-white font-bold text-3xl mt-[6px]",children:f?(0,r.jsx)(y.Z,{className:"h-5 w-5 animate-spin"}):(null==z?void 0:null===(s=z.org_subscription)||void 0===s?void 0:s.all_seats)||0})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-center bg-[#FAFDFF] dark:bg-[#12394A] dark:border-[#217193] min-w-[200px] border-[#D5EEFE] rounded-2xl px-6 py-3 border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-[#30394A] dark:text-white font-medium",children:l("settings_modal.enterprise_credit_consumption")}),(0,r.jsx)(L.pn,{children:(0,r.jsxs)(L.u,{delayDuration:0,children:[(0,r.jsx)(L.aJ,{asChild:!0,children:(0,r.jsx)(Z.Z,{className:"w-4 h-4 text-[#ACB9CD] cursor-pointer"})}),(0,r.jsx)(L._v,{className:"max-w-[300px] min-w-[300px] p-2 rounded-lg bg-slate-900 text-white",children:(0,r.jsxs)("p",{children:[" ",l("settings_modal.enterprise_credit_desc")]})})]})})]}),(0,r.jsxs)("div",{className:"flex items-center mt-[6px]",children:[(0,r.jsx)("div",{className:"text-2xl mr-2 font-medium text-felo-text-3 dark:text-felo-text-3-dark",children:(0,r.jsx)("span",{className:"text-[#30394A] dark:text-white font-bold text-3xl",children:(null==z?void 0:z.org_deduction_amount)||0})}),(0,r.jsx)("div",{className:"ml-auto",children:"OWNER"===Q&&0===$&&(0,r.jsx)("button",{onClick:()=>{J===B.e0.FREE?u.default(l("subscription.only_support_enterprise_purchase")):Y.Z.getState().setShowBuyPointsModal(!0)},className:"text-xs px-2 py-1 bg-[#268DBA] dark:bg-[#34A6D8] text-white rounded-md hover:bg-[#268DBA]/90 dark:hover:bg-[#34A6D8]/90 cursor-pointer transition-colors",children:l("settings_modal.recharge")})})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 border border-[#E6E9EF] dark:border-[#545D6F] rounded-2xl py-4 px-6",children:[(0,r.jsx)("div",{className:"text-xl text-[#30394A] dark:text-white font-medium mb-4",children:l("settings_modal.function_usage_distribution")}),0===X.length?e_():(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"w-[250px] h-[240px] flex justify-center",children:(0,r.jsx)(ed.h,{width:"100%",height:"100%",children:(0,r.jsxs)(ec.u,{children:[(0,r.jsx)(ex.b,{data:X,cx:"50%",cy:"50%",labelLine:!1,label:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",stroke:"none",strokeWidth:0,children:X.map((e,t)=>(0,r.jsx)(em.b,{fill:e.color,stroke:"none",strokeWidth:0},"cell-".concat(t)))}),(0,r.jsx)(eu.u,{content:(0,r.jsx)(e=>{let{active:t,payload:s}=e;if(t&&s&&s.length){let e=s[0].payload;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-2 rounded shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:l("".concat(eB(e.name)))}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.value,"%"]})]})}return null},{})})]})})}),(0,r.jsx)("div",{className:"flex-1 ml-8 space-y-3",children:X.slice().reverse().map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{className:"text-sm text-[#4B5F7E] dark:text-[#F3F5F7]",children:l("".concat(eB(e.name)))})]}),(0,r.jsxs)("span",{className:"text-sm font-medium text-[#30394A] dark:text-white",children:[e.value,"%"]})]},t))})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-[#30394A] dark:text-white",children:l("settings_modal.seats_usage")}),(0,r.jsxs)("button",{onClick:()=>eo(),disabled:0===ee.users.length,className:(0,b.cn)("ml-auto  text-base flex items-center gap-1",0===ee.users.length?"text-[#ACB9CD] hover:text-[#ACB9CD] cursor-not-allowed":"text-[#0080FF] dark:text-[#1EB1FF] hover:text-[#0080FF]/90 dark:hover:text-[#1EB1FF]/90"),children:[l("settings_modal.credits_table.detail"),(0,r.jsx)(n.Z,{className:"w-4 h-4"})]})]}),(0,r.jsxs)("div",{className:"border border-[#E6E9EF] dark:border-[#545D6F] rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-felo-bg-1-modal-second dark:bg-felo-bg-1-modal-second-dark",children:(0,r.jsxs)("tr",{className:"border-b border-felo-border-3-modal dark:border-felo-border-3-modal-dark",children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-normal text-felo-text-4 dark:text-felo-text-4-dark whitespace-nowrap",children:l("enterprise.email")}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-normal text-felo-text-4 dark:text-felo-text-4-dark whitespace-nowrap",children:l("settings_modal.username")}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-normal text-felo-text-4 dark:text-felo-text-4-dark whitespace-nowrap",children:l("settings_modal.plan_usage")}),(0,r.jsx)("th",{className:"px-4 w-[170px] min-w-[170px] max-w-[170px] py-3 text-left text-sm font-normal text-felo-text-4 dark:text-felo-text-4-dark whitespace-nowrap",children:l("settings_modal.ratio")})]})}),(0,r.jsx)("tbody",{children:ee.users.map((e,t)=>(0,r.jsxs)("tr",{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",onClick:()=>eo(e.email),children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-felo-text-3 dark:text-felo-text-3-dark",children:e.email||"--"}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-felo-text-3 dark:text-felo-text-3-dark",children:eO(e.name)?(0,r.jsx)(L.pn,{children:(0,r.jsxs)(L.u,{delayDuration:0,children:[(0,r.jsx)(L.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"cursor-pointer",children:eP(e.name)})}),(0,r.jsx)(L._v,{children:(0,r.jsx)("p",{children:e.name})})]})}):e.name||"--"}),(0,r.jsx)("td",{className:(0,b.cn)("px-4 py-3 text-sm text-felo-text-3 dark:text-felo-text-3-dark",0===e.balance&&"UNLIMITED"!==e.total_limit&&"text-[#D14625] dark:text-[#D0D4DC]"),children:"UNLIMITED"===e.total_limit?l("unlimited"):"".concat(e.balance,"/").concat(e.total)}),(0,r.jsx)("td",{className:"px-4 w-[170px] min-w-[170px] max-w-[170px] py-3 text-sm text-felo-text-3 dark:text-felo-text-3-dark",children:"UNLIMITED"===e.total_limit?"--":(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-full bg-gray-200 dark:bg-[#454E5D] rounded-full h-2",children:(0,r.jsx)("div",{className:(0,b.cn)("h-2 rounded-full transition-all duration-300","bg-blue-500 dark:bg-[#0694FF]"),style:{width:"".concat(Math.min(e.balance/e.total*100,100),"%")}})}),(0,r.jsxs)("span",{className:"text-xs text-felo-text-4 dark:text-felo-text-4-dark whitespace-nowrap",children:[Math.floor(Math.min(e.balance/e.total*100,100)),"%"]})]})})]},t))})]})}),_&&(0,r.jsxs)("div",{className:"flex items-center justify-center h-48",children:[(0,r.jsx)(y.Z,{className:"h-5 w-5 animate-spin mr-2"}),(0,r.jsx)("span",{children:l("topic.loading")})]}),0===ee.users.length&&!_&&e_()]}),ee&&ee.total>10&&(0,r.jsx)("div",{className:"mt-4 flex justify-center",children:(0,r.jsx)(w.tl,{children:(0,r.jsx)(w.ng,{children:(()=>{if(!ee||ee.total<=10)return[];let e=[];j>1&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.dN,{href:"#",onClick:e=>{e.preventDefault(),es(j-1)}})},"prev"));for(let t=1;t<=N;t++)1===t||t===N||t>=j-1&&t<=j+1?e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.kN,{href:"#",onClick:e=>{e.preventDefault(),es(t)},isActive:t===j,children:t})},t)):(t===j-2||t===j+2)&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.Dj,{})},"ellipsis-".concat(t)));return j<N&&e.push((0,r.jsx)(w.nt,{children:(0,r.jsx)(w.$0,{href:"#",onClick:e=>{e.preventDefault(),es(j+1)}})},"next")),e})()})})})]})]})]})},eW=s(39626),eH=()=>{var e;let t=(0,x.useTranslations)(),{isApp:s}=(0,u.b)(),h=(0,o.Z)(e=>e.settingsModalVisible),f=(0,o.Z)(e=>e.settingsModalTitle),b=(0,o.Z)(e=>e.isBoardDetailsView),_=(0,d.gQ)(),v=(0,d.c0)(),j=(0,o.Z)(e=>e.setSettingsModalVisible),[k,N]=(0,a.useState)("account");(0,a.useEffect)(()=>{h&&N(o.Z.getState().settingsModalInitialTab)},[h]);let y=[{title:t("settings_modal.account"),visible:!0,items:[{id:"account",label:t("settings_modal.account"),visible:!0},{id:"preferences",label:t("settings_modal.perference"),visible:!0},{id:"credits",label:t("settings_modal.credits_usage"),visible:!0}]},{title:t("settings_modal.workspace"),visible:_,items:[{id:"enterprise",label:t("settings_modal.enterprise"),visible:!0},{id:"members",label:t("settings_modal.member"),visible:v===B.gY.OWNER||v===B.gY.ADMIN},{id:"board",label:t("settings_modal.board"),visible:v===B.gY.OWNER||v===B.gY.ADMIN},{id:"general",label:t("settings_modal.general"),visible:v===B.gY.OWNER}]},{visible:!0,items:[{id:"help",label:t("settings_modal.help"),visible:!0},{id:"plans",label:t("settings_modal.show_plan"),isLink:!0,onClick:()=>{z.$.publish("showSubscriptionPlan",void 0)},visible:!_||v===B.gY.OWNER}]}],w=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-felo-text-3 dark:text-felo-text-3-dark text-lg font-medium mb-6",children:t("settings.answer_preference")}),(0,r.jsx)(m.Z,{className:"space-y-8 mb-4"}),!s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:"border-t border-felo-border-3-modal dark:border-felo-border-3-modal-dark mb-8"}),(0,r.jsx)("h2",{className:"mt-8 text-felo-text-3 dark:text-felo-text-3-dark text-lg font-medium mb-6",children:t("settings.setting")}),(0,r.jsx)(p.Z,{className:"space-y-8 mb-6"})]}),(0,r.jsx)(eW.Z,{})]});return(0,r.jsx)(l.Vq,{open:h,onOpenChange:()=>{j(!1,"account")},children:(0,r.jsxs)(l.cZ,{className:"sm:rounded-2xl h-[80vh] max-w-[1028px] max-h-[820px] flex flex-col md:flex-row p-0 dark:bg-theme-gray-dark-900",children:[(0,r.jsx)("div",{className:"md:w-[268px] flex-shrink-0 border-b md:border-b-0 md:border-r border-felo-border-3-modal dark:border-felo-border-3-modal-dark flex flex-col",children:(0,r.jsx)("div",{className:"mt-6 md:mt-0 flex-1 overflow-y-auto",children:(0,r.jsx)("nav",{className:"flex flex-row gap-2 overflow-x-auto md:block px-5 py-2 md:py-6 whitespace-nowrap md:whitespace-normal",children:y.map((e,t)=>e.visible?(0,r.jsxs)(a.Fragment,{children:[e.title&&(0,r.jsx)("div",{className:"hidden md:block text-sm px-3 text-felo-text-4 dark:text-felo-text-4-dark mb-3",children:e.title}),(0,r.jsx)("div",{className:"flex gap-2 md:flex-col",children:e.items.map(e=>{let t=k===e.id,s=e.isLink;return e.visible?(0,r.jsxs)("button",{onClick:()=>{if(s){var t;null===(t=e.onClick)||void 0===t||t.call(e)}else N(e.id)},className:(0,c.cn)("text-lg flex items-center space-x-2 px-3 py-2 rounded-lg border border-transparent transition-colors",t?"text-foreground border-felo-brand-200 dark:border-felo-brand-600/20 bg-felo-brand-50 dark:bg-felo-brand-950/80 text-felo-brand-700 dark:text-felo-brand-500 font-medium":"",s&&"text-felo-brand-700 dark:text-felo-brand-500 group"),children:[(0,r.jsx)("span",{className:"flex-1 text-left",children:e.label}),s&&(0,r.jsx)(n.Z,{className:"h-4 w-4 text-felo-text-disabled dark:text-felo-text-disabled-dark group-hover:text-inherit transition-colors"})]},e.id):null})}),t<y.length-1&&(0,r.jsx)("hr",{className:"hidden md:block border-t border-felo-border-3-modal dark:border-felo-border-3-modal-dark my-6"})]},t):null)})})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 min-w-0",children:[(0,r.jsx)("div",{className:"hidden md:block px-6 py-4 border-b border-felo-border-3-modal dark:border-felo-border-3-modal-dark",children:(0,r.jsx)(l.$N,{className:"text-lg font-normal flex items-center gap-2",children:"board"===k&&b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("backToBoard"))},className:"flex items-center mr-2 text-[#8896AA] dark:text-[#B9BFCA]",children:(0,r.jsx)(i.Z,{className:"h-6 w-6"})}),(0,r.jsx)("span",{children:t("settings_modal.credits_table.detail")})]}):"board"===k&&f?f:(null===(e=y.flatMap(e=>e.items).find(e=>e.id===k))||void 0===e?void 0:e.label)||""})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-5 md:px-10 md:py-8",children:(()=>{switch(k){case"account":return(0,r.jsx)(g,{});case"preferences":return w();case"credits":return(0,r.jsx)(T,{});case"enterprise":return(0,r.jsx)(q,{});case"members":return(0,r.jsx)(K,{});case"general":return(0,r.jsx)(ea,{});case"help":return(0,r.jsx)(eo,{});case"board":return(0,r.jsx)(eU,{});default:return null}})()})]})]})})}}}]);