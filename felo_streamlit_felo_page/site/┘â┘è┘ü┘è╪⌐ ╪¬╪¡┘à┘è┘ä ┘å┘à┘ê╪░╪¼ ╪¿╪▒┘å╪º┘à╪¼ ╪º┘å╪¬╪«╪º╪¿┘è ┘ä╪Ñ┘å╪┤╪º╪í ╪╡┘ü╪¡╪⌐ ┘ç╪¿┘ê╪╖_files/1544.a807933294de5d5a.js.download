"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1544],{46046:function(e,t,s){s.d(t,{Z:function(){return i}});let i=(0,s(41650).Z)("sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]])},71544:function(e,t,s){s.r(t),s.d(t,{default:function(){return N}});var i=s(52676),l=s(75271),n=s(43378),r=s(25010),o=s(46046),a=s(57546),d=s(65105),c=s(11333),p=s.n(c),u=s(65819),x=s(44342),m=s(7717),h=s(84706),f=s(43046);function N(){var e;let t=(0,m.useTranslations)(),{planExpiredDialog:s,setPlanExpiredDialog:c,setPlanModalVisible:N}=(0,a.Z)(),{subscriptionInfo:E}=(0,d.ZP)(),[j,g]=(0,l.useState)(!1),M=(0,l.useRef)(null);(0,d.WI)();let _=(0,u.gQ)(),b=(0,u.c0)();(0,l.useEffect)(()=>{if(s.type){let e=Date.now();!M.current||e-M.current>0?(M.current=e,g(!0)):g(!1)}else g(!1)},[s.type]),(0,u.ZP)(e=>e.userInfo);let{isApp:k}=(0,x.b)();if(!j)return null;let C=()=>{c({type:null})},I=(null==E?void 0:null===(e=E.subscriptions)||void 0===e?void 0:e.reset_time)?p()(E.subscriptions.reset_time).format("YYYY-MM-DD"):t("paidModal.proUserPointsNotEnough.nextBillingCycle"),v={RATE_LIMIT_EXCEEDED:{title:t("paidModal.freeUserLimit.title"),description:t(_?b===f.gY.OWNER?"points.free_user_limit":"points.free_enterprise_user_limit":"paidModal.freeUserLimit.description"),footer:_&&b===f.gY.OWNER||!_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.z,{variant:"outline",onClick:C,className:"text-md px-6",children:t("paidModal.buttons.cancel")}),(0,i.jsx)(r.z,{onClick:()=>{c({type:null}),h.$.publish("showSubscriptionPlan",void 0)},className:"text-md px-6",children:_?t("upgrade"):(0,i.jsxs)(i.Fragment,{children:[t("paidModal.buttons.upgradeTo"),(0,i.jsx)("span",{className:"ml-1.5 px-1.5 py-0.5 bg-white text-blue-500 text-xs rounded-sm font-medium",children:"PRO"})]})})]}):(0,i.jsx)(i.Fragment,{})},INSUFFICIENT_POINTS:{title:t("paidModal.proUserPointsNotEnough.title"),description:t("paidModal.proUserPointsNotEnough.description",{resetDate:I}),footer:(0,i.jsx)(r.z,{onClick:C,className:"text-md px-6",children:t("paidModal.buttons.ok")})},INSUFFICIENT_QUERIES:{title:t("paidModal.proUserAllExhausted.title"),description:t("paidModal.proUserAllExhausted.description"),footer:(0,i.jsx)(r.z,{onClick:C,className:"text-md px-6",children:t("paidModal.buttons.ok")})}},y=s.type&&v[s.type];return y?(0,i.jsx)(n.Vq,{open:j,onOpenChange:e=>!e&&C(),children:(0,i.jsxs)(n.cZ,{className:"max-w-[90vw] rounded-md sm:max-w-[560px]",hideCloseButton:!0,children:[(0,i.jsx)(n.fK,{children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.Z,{className:"text-blue-500"}),(0,i.jsx)(n.$N,{className:"text-xl",children:y.title})]})}),(0,i.jsx)("div",{className:"pt-4 text-muted-foreground text-lg px-6",children:(0,i.jsx)(n.Be,{children:y.description})}),(0,i.jsx)(n.cN,{children:y.footer})]})}):null}}}]);